<!DOCTYPE html>
<html>
    <body>
        
        <h1>Click the button to get your coordinates.</h1>
        
        <button style="font-size: 60px;" onclick="getUserLocation()">Try It</button>
        
        <p id="demo"></p>
        
        <script>
            var x = document.getElementById("demo");
            
            function getUserLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition,getPositionError);
                } else {
                    x.innerHTML = "Geolocation is not supported by this browser.";
                }
            }
        function showPosition(position) {
            const currentGeo = `${position.coords.latitude},${position.coords.longitude}`
            const link = `https://www.google.com/maps?saddr=${currentGeo}&daddr=21.036795,105.779927`;

            const a = document.createElement("a");
            a.setAttribute('href', link);
            a.setAttribute('target', '_blank');
            a.click();
//             window.location.assign(`https://www.google.com/maps?saddr=${currentGeo}&daddr=21.036795,105.779927`);
        }
        function getPositionError(error) {
//             window.location.assign(`https://maps.google.com/?q=21.036795,105.779927`);
            const link = `https://maps.google.com/?q=21.036795,105.779927`;

            const a = document.createElement("a");
            a.setAttribute('href', link);
            a.setAttribute('target', '_blank');
            a.click();
        }
        function getLocation(lat,lng) {
            x.innerHTML = "Lat: " +  lat+
            "<br>Lng: " + lng;
        }
        </script>
        
    </body>
</html>
